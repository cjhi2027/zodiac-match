<template>
  <div class="detail-container" data-testid="container-compatibility-detail">
    <!-- í—¤ë” -->
    <div class="detail-header">
      <h1 class="detail-title">ğŸ’– {{ $t(`zodiac.${myZodiac.id}`) }} Ã— {{ $t(`zodiac.${partnerZodiac.id}`) }} {{ $t("compatibilityDetail.title") }} ğŸ’–</h1>
    </div>

    <!-- ìƒì„¸ ì„¤ëª… ì¹´ë“œ -->
    <div class="detail-card">
      <!-- ê¸°ë³¸ ì„¤ëª… -->
      <div class="detail-section">
        <h2 class="section-title">ğŸ“‹ {{ $t("compatibilityDetail.basicDescription") }}</h2>
        <div class="section-content">
          {{ compatibilityDetail ? $t(compatibilityDetail.detailed.basicKey) : "" }}
        </div>
      </div>

      <!-- ì£¼ì˜í•  ì  -->
      <div class="detail-section">
        <h2 class="section-title">âš ï¸ {{ $t("compatibilityDetail.cautionPoints") }}</h2>
        <div class="section-content">
          {{ compatibilityDetail ? $t(compatibilityDetail.detailed.cautionKey) : "" }}
        </div>
      </div>

      <!-- ì¶”ì²œ ë°ì´íŠ¸ -->
      <div class="detail-section">
        <h2 class="section-title">ğŸ’• {{ $t("compatibilityDetail.dateRecommendation") }}</h2>
        <div class="section-content">
          {{ compatibilityDetail ? $t(compatibilityDetail.detailed.dateRecommendationKey) : "" }}
        </div>
      </div>
    </div>

    <!-- ë²„íŠ¼ ì˜ì—­ -->
    <div class="button-area">
      <button @click="onBack" class="back-btn">
        â† {{ $t("compatibilityDetail.backToResult") }}
      </button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { getCompatibilityDetail, type ZodiacAnimal } from "@/lib/zodiac";
import { computed } from "vue";
import { useI18n } from "vue-i18n";

interface Props {
  myZodiac: ZodiacAnimal;
  partnerZodiac: ZodiacAnimal;
  onBack: () => void;
}

const props = defineProps<Props>();
const { t } = useI18n();

// ê¶í•© ìƒì„¸ ì •ë³´
const compatibilityDetail = computed(() => {
  return getCompatibilityDetail(props.myZodiac, props.partnerZodiac);
});
</script>

<style scoped>
/* ìƒì„¸ì„¤ëª… ì»¨í…Œì´ë„ˆ */
.detail-container {
  max-width: 50rem; /* 800px = 50rem */
  margin: 0 auto;
  padding: 1.25rem;
  background-color: #faf7f0;
  min-height: 100vh;
}

/* ìƒì„¸ì„¤ëª… í—¤ë” */
.detail-header {
  text-align: center;
  margin-bottom: 2.5rem;
}

/* ìƒì„¸ì„¤ëª… íƒ€ì´í‹€ */
.detail-title {
  font-size: 1.8rem;
  font-weight: bold;
  color: #333;
  margin-bottom: 0.625rem;
}

/* ìƒì„¸ì„¤ëª… ì¹´ë“œ */
.detail-card {
  background: white;
  border-radius: 0.75rem; /* 12px = 0.75rem */
  padding: 2rem;
  box-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, 0.1); /* 2px 8px = 0.125rem 0.5rem */
  border: 1px solid #e0e0e0;
  margin-bottom: 2rem;
}

/* ì„¹ì…˜ */
.detail-section {
  margin-bottom: 2rem;
}

.detail-section:last-child {
  margin-bottom: 0;
}

/* ì„¹ì…˜ ì œëª© */
.section-title {
  font-size: 1.3rem;
  font-weight: bold;
  color: #e91e63;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e91e63;
}

/* ì„¹ì…˜ ë‚´ìš© */
.section-content {
  font-size: 1rem;
  color: #333;
  line-height: 1.7;
  text-align: justify;
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 0.5rem; /* 8px = 0.5rem */
  border: 1px solid #e9ecef;
}

/* ë²„íŠ¼ ì˜ì—­ */
.button-area {
  text-align: center;
}

/* ë’¤ë¡œê°€ê¸° ë²„íŠ¼ */
.back-btn {
  background: #e91e63;
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  font-weight: 500;
  border-radius: 0.5rem; /* 8px = 0.5rem */
  cursor: pointer;
  transition: background 0.2s;
}

/* ë’¤ë¡œê°€ê¸° ë²„íŠ¼ í˜¸ë²„ */
.back-btn:hover {
  background: #c2185b;
}

/* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
@media (max-width: 768px) {
  .detail-container {
    padding: 1rem;
  }

  .detail-title {
    font-size: 1.5rem;
  }

  .detail-card {
    padding: 1.5rem;
  }

  .section-title {
    font-size: 1.2rem;
  }

  .section-content {
    font-size: 0.95rem;
    padding: 0.75rem;
  }
}
</style>
